/**
 * @license MIT http://jseppi.mit-license.org/license.html
 */
!function(e,o,d){"use strict";var n=o.module("ngDropdowns",[]);n.run(["$templateCache",function(e){e.put("ngDropdowns/templates/dropdownSelect.html",['<div ng-class="{\'disabled\': dropdownDisabled}" class="wrap-dd-select">','<span class="selected" ng-if="!dropdownMultiple">{{dropdownModel[labelField]}}</span>','<span class="selected" ng-if="dropdownMultiple">{{list(dropdownModel)}}</span>','<ul class="dropdown">','<li ng-repeat="item in dropdownSelect"',' class="dropdown-item"',' dropdown-select-item="item"',' dropdown-item-label="labelField"',' dropdown-select-item-multiple="dropdownMultiple">',"</li>","</ul>","</div>"].join("")),e.put("ngDropdowns/templates/dropdownSelectItem.html",["<li ng-class=\"{selected: dropdownSelectItem.selected, divider: (dropdownSelectItem.divider && !dropdownSelectItem[dropdownItemLabel]), 'divider-label': (dropdownSelectItem.divider && dropdownSelectItem[dropdownItemLabel])}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownSelectItem.divider"',' ng-href="{{dropdownSelectItem.href}}"',' ng-click="selectItem()">',"{{dropdownSelectItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownSelectItem.divider">',"{{dropdownSelectItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMenu.html",['<ul class="dropdown">','<li ng-repeat="item in dropdownMenu"',' class="dropdown-item"',' dropdown-item-label="labelField"',' dropdown-menu-item="item"',' dropdown-menu-item-multiple="dropdownMultiple">',"</li>","</ul>"].join("")),e.put("ngDropdowns/templates/dropdownMenuItem.html",["<li ng-class=\"{divider: dropdownMenuItem.divider, 'divider-label': dropdownMenuItem.divider && dropdownMenuItem[dropdownItemLabel], selected: dropdownMenuItem.selected}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownMenuItem.divider"',' ng-href="{{dropdownMenuItem.href}}"',' ng-click="selectItem()">',"{{dropdownMenuItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownMenuItem.divider">',"{{dropdownMenuItem[dropdownItemLabel]}}","</span>","</li>"].join(""))}]),n.directive("dropdownSelect",["DropdownService",function(e){return{restrict:"A",replace:!0,scope:{dropdownSelect:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"=",dropdownMultiple:"=",dropdownMultipleStandardLabel:"@"},controller:["$scope","$element",function(d,n){d.labelField=d.dropdownItemLabel||"text",d.dropdownMultiple&&(d.dropdownModel=[]),e.register(n),this.select=function(e){if(o.equals(e,d.dropdownModel)||d.dropdownMultiple||(d.dropdownModel=e),d.dropdownMultiple){for(var n=-1,t=0;t<d.dropdownModel.length;t++)if(d.dropdownModel[t]===e){n=t;break}-1==n?(e.selected=!0,d.dropdownModel.push(e)):(e.selected=!1,d.dropdownModel.splice(n,1))}d.dropdownOnchange({selected:e})},n.bind("click",function(o){o.stopPropagation(),d.dropdownDisabled||e.toggleActive(n)}),d.$on("$destroy",function(){e.unregister(n)}),d.list=function(){var e="";return d.dropdownModel.forEach(function(o){e+=o.text+", "}),""!==e?e.substring(0,e.length-2):d.dropdownMultipleStandardLabel}}],templateUrl:"ngDropdowns/templates/dropdownSelect.html"}}]),n.directive("dropdownSelectItem",[function(){return{require:"^dropdownSelect",replace:!0,scope:{dropdownItemLabel:"=",dropdownSelectItem:"=",dropdownSelectItemMultiple:"="},link:function(e,o,d,n){e.selectItem=function(){e.dropdownSelectItem.href||n.select(e.dropdownSelectItem)}},controller:["$scope","$element",function(e,o){o.bind("click",function(o){e.dropdownSelectItemMultiple&&o.stopPropagation()})}],templateUrl:"ngDropdowns/templates/dropdownSelectItem.html"}}]),n.directive("dropdownMenu",["$parse","$compile","DropdownService","$templateCache",function(e,d,n,t){return{restrict:"A",replace:!1,scope:{dropdownMenu:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"=",dropdownMultiple:"="},controller:["$scope","$element",function(e,l){e.labelField=e.dropdownItemLabel||"text";var r=o.element(t.get("ngDropdowns/templates/dropdownMenu.html"));r.data("$dropdownMenuController",this);var p=d(r)(e),i=d(o.element('<div class="wrap-dd-menu" ng-class="{\'disabled\': dropdownDisabled}"></div>'))(e);l.replaceWith(i),i.append(l),i.append(r),e.dropdownMultiple&&(e.dropdownModel=[]),n.register(p),this.select=function(d){if(o.equals(d,e.dropdownModel)||e.dropdownMultiple||(e.dropdownModel=d),e.dropdownMultiple){for(var n=-1,t=0;t<e.dropdownModel.length;t++)if(e.dropdownModel[t]===d){n=t;break}-1==n?(d.selected=!0,e.dropdownModel.push(d)):(d.selected=!1,e.dropdownModel.splice(n,1))}e.dropdownOnchange({selected:d})},l.bind("click",function(o){o.stopPropagation(),e.dropdownDisabled||n.toggleActive(p)}),e.$on("$destroy",function(){n.unregister(p)})}]}}]),n.directive("dropdownMenuItem",[function(){return{require:"^dropdownMenu",replace:!0,scope:{dropdownMenuItem:"=",dropdownItemLabel:"=",dropdownMenuItemMultiple:"="},link:function(e,o,d,n){e.selectItem=function(){e.dropdownMenuItem.href||n.select(e.dropdownMenuItem)}},controller:["$scope","$element",function(e,o){o.bind("click",function(o){e.dropdownMenuItemMultiple&&o.stopPropagation()})}],templateUrl:"ngDropdowns/templates/dropdownMenuItem.html"}}]),n.factory("DropdownService",["$document",function(e){var d=e.find("body"),n={},t=[];return d.bind("click",function(){o.forEach(t,function(e){e.removeClass("active")})}),n.register=function(e){t.push(e)},n.unregister=function(e){var o;o=t.indexOf(e),o>-1&&t.splice(o,1)},n.toggleActive=function(e){o.forEach(t,function(o){o!==e&&o.removeClass("active")}),e.toggleClass("active")},n}])}(window,window.angular);